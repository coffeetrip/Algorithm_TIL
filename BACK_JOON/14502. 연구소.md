### 14502. 연구소

```python
def bfs():
    global queue, visited, tt
    while queue:
        i, j = queue.pop(0)
        di = [0, 1, 0, -1]
        dj = [1, 0, -1, 0]
        for k in range(4):
            ni = i + di[k]
            nj = j + dj[k]
            if 0 <= ni < N and 0 <= nj < M and visited[ni][nj] == 0 and zido[ni][nj] == 0:
                visited[ni][nj] = 1
                tt += 1
                queue.append([ni, nj])

    result = N*M - tt
    return result


N, M = map(int, input().split())  # 세로, 가로
zido = [list(map(int, input().split())) for _ in range(N)]  # 0 빈칸, 1 벽, 2 바이러스


temp = []
for i in range(N):
    for j in range(M):
        if zido[i][j] == 0:
            temp.append([i, j])


temp_N = len(temp)
security = 0
for i in range(temp_N-2):
    for j in range(i+1, temp_N-1):
        for k in range(j+1, temp_N):
            zido[temp[i][0]][temp[i][1]] = 1
            zido[temp[j][0]][temp[j][1]] = 1
            zido[temp[k][0]][temp[k][1]] = 1
            queue = []
            visited = [[0] * M for _ in range(N)]
            tt = 0
            for m in range(N):
                for n in range(M):
                    if zido[m][n] == 2:
                        queue.append([m, n])
                        visited[m][n] = 1
                        tt += 1
                    elif zido[m][n] == 1:
                        tt += 1
            tt = bfs()
            if security < tt:
                security = tt
            zido[temp[i][0]][temp[i][1]] = 0
            zido[temp[j][0]][temp[j][1]] = 0
            zido[temp[k][0]][temp[k][1]] = 0

print(security)
```

