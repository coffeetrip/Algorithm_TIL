#### 5643. [Professional] 키 순서

```python
def bfs(n, arr):
    queue = [0]*N*N*2
    front, rear = -1, 0
    queue[rear] = n
    visited[n] = 1

    temp_cnt = 0
    while front != rear:
        front += 1
        i = queue[front]
        for ii in arr[i]:
            if visited[ii] == 0:
                visited[ii] = 1
                rear += 1
                queue[rear] = ii
                temp_cnt += 1
    return temp_cnt

T = int(input())
for tc in range(1, T+1):
    N = int(input())  # 학생수
    M = int(input())  # 학생의 키를 비교한 횟수

    short = [[0] * (N + 1) for _ in range(N + 1)]
    long = [[0] * (N + 1) for _ in range(N + 1)]
    for mc in range(M):
        a, b = map(int, input().split())  # a < b
        short[a][b] = b
        long[b][a] = a

    cnt = 0
    for i in range(1, N+1):
        visited = [0] * (N + 1)
        temp = bfs(i, short) + bfs(i, long)
        if temp == N:
            cnt += 1

    print('#{} {}' .format(tc, cnt))
```

